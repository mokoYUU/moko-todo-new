import{r as d,L as S,a as A,M as B,A as t,i as a,t as C,z as o,B as c,N as j,y as q,P as L}from"./CQHisSLU.js";const T={__name:"signup",setup(M){const u=d(""),r=d(""),i=S(),{$auth:f}=A(),s=d({show:!1,message:"",color:"",timeout:3e3}),h=async()=>{try{await L(f,u.value,r.value),m("アカウントが作成されました！","success"),i.push("/tasks")}catch(l){let e="アカウント作成エラー: ";l.code==="auth/email-already-in-use"?e+="このメールアドレスは既に使用されています。":l.code==="auth/missing-password"||l.code==="auth/missing-email"?e+="メールアドレスもしくはパスワードが正しくありません。":l.code==="auth/weak-password"?e+="パスワードが弱すぎます。もっと強力なパスワードを使用してください。":e+=l.message,m(e,"error")}},w=()=>{i.push("/login")},m=(l,e)=>{s.value.message=l,s.value.color=e,s.value.show=!0};return(l,e)=>{const g=a("v-card-title"),_=a("v-text-field"),p=a("v-btn"),v=a("v-col"),y=a("v-row"),b=a("v-form"),x=a("v-card-text"),k=a("v-snackbar"),V=a("v-card"),U=a("v-main"),N=a("v-app");return C(),B(N,null,{default:t(()=>[o(U,{class:"d-flex align-center justify-center",style:{"background-color":"#f5f5f5","min-height":"100vh"}},{default:t(()=>[o(V,{class:"pa-10",elevation:"3",style:{width:"500px"}},{default:t(()=>[o(g,{class:"text-h4 text-center"},{default:t(()=>[c("アカウント作成")]),_:1}),o(x,null,{default:t(()=>[o(b,{onSubmit:j(h,["prevent"])},{default:t(()=>[o(_,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=n=>u.value=n),label:"メールアドレス",type:"email",required:"",outlined:""},null,8,["modelValue"]),o(_,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=n=>r.value=n),label:"パスワード",type:"password",required:"",outlined:"",class:"mt-4"},null,8,["modelValue"]),o(y,{justify:"center",class:"mt-6"},{default:t(()=>[o(v,{cols:"12",sm:"6"},{default:t(()=>[o(p,{onClick:w,color:"secondary",block:""},{default:t(()=>[c("ログイン画面に戻る")]),_:1})]),_:1}),o(v,{cols:"12",sm:"6"},{default:t(()=>[o(p,{type:"submit",color:"primary",block:""},{default:t(()=>[c("アカウント作成する")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),o(k,{modelValue:s.value.show,"onUpdate:modelValue":e[2]||(e[2]=n=>s.value.show=n),color:s.value.color,timeout:s.value.timeout},{default:t(()=>[c(q(s.value.message),1)]),_:1},8,["modelValue","color","timeout"])]),_:1})]),_:1})]),_:1})}}};export{T as default};
