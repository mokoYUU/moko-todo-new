import{r as d,L as U,a as A,M as B,A as o,i as a,t as C,z as e,B as c,N as j,y as q,O as L}from"./CQHisSLU.js";const z={__name:"login",setup(M){const u=d(""),r=d(""),_=U(),{$auth:f}=A(),l=d({show:!1,message:"",color:"",timeout:3e3}),g=async()=>{try{await L(f,u.value,r.value),i("ログインに成功しました！","success"),await _.push("/tasks")}catch(s){let t="ログインエラー: ";s.code==="auth/invalid-credential"?t+="ユーザーが見つかりません。アカウントを作成してください。":t+=s.message,i(t,"error")}},w=()=>{_.push("/signup")},i=(s,t)=>{l.value.message=s,l.value.color=t,l.value.show=!0};return(s,t)=>{const h=a("v-card-title"),m=a("v-text-field"),p=a("v-btn"),v=a("v-col"),b=a("v-row"),x=a("v-form"),y=a("v-card-text"),k=a("v-snackbar"),V=a("v-card"),N=a("v-main"),S=a("v-app");return C(),B(S,null,{default:o(()=>[e(N,{class:"d-flex align-center justify-center",style:{"background-color":"#f5f5f5","min-height":"100vh"}},{default:o(()=>[e(V,{class:"pa-10",elevation:"3",style:{width:"500px"}},{default:o(()=>[e(h,{class:"text-h4 text-center"},{default:o(()=>[c("ログイン")]),_:1}),e(y,null,{default:o(()=>[e(x,{onSubmit:j(g,["prevent"])},{default:o(()=>[e(m,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=n=>u.value=n),label:"メールアドレス",type:"email",required:"",outlined:""},null,8,["modelValue"]),e(m,{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=n=>r.value=n),label:"パスワード",type:"password",required:"",outlined:"",class:"mt-4"},null,8,["modelValue"]),e(b,{justify:"center",class:"mt-6"},{default:o(()=>[e(v,{cols:"12",sm:"6"},{default:o(()=>[e(p,{onClick:w,color:"secondary",block:""},{default:o(()=>[c("アカウント作成画面へ")]),_:1})]),_:1}),e(v,{cols:"12",sm:"6"},{default:o(()=>[e(p,{type:"submit",color:"primary",block:""},{default:o(()=>[c("ログインする")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(k,{modelValue:l.value.show,"onUpdate:modelValue":t[2]||(t[2]=n=>l.value.show=n),color:l.value.color,timeout:l.value.timeout},{default:o(()=>[c(q(l.value.message),1)]),_:1},8,["modelValue","color","timeout"])]),_:1})]),_:1})]),_:1})}}};export{z as default};
